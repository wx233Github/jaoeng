{
  "comment": "脚本全局配置文件",

  "base_url": "https://raw.githubusercontent.com/wx233Github/jaoeng/main",
  "comment_base_url": "所有模块的下载基础 URL。",

  "install_dir": "/opt/vps_install_modules",
  "comment_install_dir": "脚本及模块的本地安装目录。",

  "bin_dir": "/usr/local/bin",
  "comment_bin_dir": "'jb' 快捷方式的存放目录。",

  "enable_auto_clear": false,
  "comment_enable_auto_clear": "切换菜单时是否自动清屏 (默认 false 关闭，开启:true)",

  "timezone": "Asia/Shanghai",
  "comment_timezone": "为各模块(如Docker容器)设置时区。",
  
  "dependencies": {
    "comment": "脚本核心依赖。",
    "common": "curl cmp ln dirname flock jq"
  },

  "menus": {
    "comment": "动态菜单配置区。在子菜单中，直接按回车即可返回主菜单。",
    "MAIN_MENU": [
      {
        "comment": "菜单项结构: name(显示名), type(类型: submenu, item, func), action(目标)",
        "name": "Docker",
        "type": "submenu",
        "action": "DOCKER_MENU"
      },
      {
        "name": "Nginx",
        "type": "submenu",
        "action": "NGINX_MENU"
      },
      {
        "name": "常用工具 (Tools)",
        "type": "submenu",
        "action": "TOOLS_MENU"
      },
      {
        "name": "证书申请 (Cert)",
        "type": "submenu",
        "action": "CERT_MENU"
      },
      {
        "name": "强制更新 (主程序+所有模块)",
        "type": "func",
        "action": "confirm_and_force_update"
      },
      {
        "name": "卸载脚本 (Uninstall)",
        "type": "func",
        "action": "uninstall_script"
      }
    ],
    
    "DOCKER_MENU": [
      { "name": "安装 Docker", "type": "item", "action": "docker.sh" }
    ],

    "NGINX_MENU": [
      { "name": "安装 Nginx", "type": "item", "action": "nginx.sh" }
    ],

    "TOOLS_MENU": [
      { "name": "Watchtower (Docker 更新)", "type": "item", "action": "tools/Watchtower.sh" }
    ],

    "CERT_MENU": [
      { "name": "Acme.sh (证书申请)", "type": "item", "action": "cert.sh" }
    ]
  },

  "module_configs": {
    "comment": "模块专属配置 (会作为环境变量传递给子脚本)",
    "watchtower": {
      "comment": "Watchtower 模块配置",
      "default_interval": 300,
      "comment_interval": "默认检查间隔 (秒)",
      "default_cron_hour": 4,
      "comment_cron_hour": "Cron模式默认执行小时 (0-23)",
      "enable_report": true,
      "comment_report": "报告模式: true(每次都通知), false(仅更新后通知)",
      "exclude_containers": [
        "portainer",
        "portainer_agent"
      ],
      "comment_exclude": "不自动更新的容器列表"
    }
  }
}
